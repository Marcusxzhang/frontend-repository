# 从前端角度看企业软件的研发过程 #

## 业务特征 ##
目前存在的企业软件，一般都是以两种形态运作的：  
* 云端SaaS
* 企业私有部署  
  
通常来说，前者侧重于通用性，价格较低，复杂程度一般不会太高。  
后者提供了各种可能的定制，价格较高，可能有非常复杂的形态。  
  
**价格**是企业选择软件的一种重要因素，所以客户对功能点的选择非常的精细，有时候不得不舍弃一些相对次要的功能。  
另一方面，从软件开发商的角度看，需要尽可能避免一次性的定制需求，需要努力把他们复用到其他客户那里。从而提高需求的复用率，降低开发成本。  
  
从这两种部署形态来看，都有一些问题需要解决。  
  
## 云端SaaS的问题 ##
云端SaaS模式的软件，一般从工具属性或者行业角度入手，较好的满足通用功能，但面临的问题一般是**可定制性**。如：  
* 我有一些需求，需要更多地对现有的系统进行定制，如何去做，谁来做？
* 我想要新增一些需求，可以通过购买其他SaaS来实现，但是系统整合是个问题。  
  
## 私有部署的问题 ##
相对应的，私有部署系统似乎问题更多了一些，但主要的问题还是：  
* 价格
* 需求沟通
* 变更速度  
  
私有部署价格高的原因主要有两方面：**需求复杂**，**开发代价高**。  
需求的复杂不可避免的，这是业务方的原生复杂度。  
而需求的沟通反复，则往往成为此类交付的核心痛点。与之相比，连耗费巨大的定制化开发过程都不可避免的成为其附属环节了。  

几乎所有这个领域的软件交付厂商很早就采用了**大中台，小前台**的作战方式，然而在实践过程中，前台部分仍然过重，中台难以很实际的对前台产生帮助。  
但是主要的原因是在于中台的支撑能力的偏弱。因为传统中台往往是提供：  
* 各类中间件
* 组件库
* 约定研发模式
* 构建发布
* 持续集成  
等底层能力。但是业务描述能力就做的不太好。  
  
## 什么是业务？如何描述业务？ ##
谁有业务抽象能力，谁就会赢得下一轮竞争。这个竞争的关键，在于底层可扩展的能力。  
  
#### 中台能力 ####
所谓中台能力，是中台团队对业务研发团队的支撑能力。  
因此，很多公司的软件都面临一个问题：  
* 业务变更了
* 老系统不能满足需求
* 要么凑合用，要么发起采购
* 采购流程过长，交付的时候业务形态和采购的时候又发生了改变  
  
如果把软件公司自身作为中台，其核心价值应该在两个方面：  
* 能快速落地业务
* 能支持业务的快速变更  
  
#### 开发技术 ####
作为软件形态的一种，需求的正确实现，还需要重要考虑：  
* 开发成本控制
* 差异化需求管控  
  
在面向行业的交付领域，我们往往会听到这样的需求：给尽量多的客户同样的功能。  
  
传统的研发管理，其分支是基于代码的。但是代码实际上是非常抽象的东西，很难去描述业务的增量与合并。  
对业务的抽象，除了有助于研发过程，还可能让懂的业务的人员参与，甚至拉动客户端的一线成员，共同改造升级自己的业务过程。  
  
#### 人员分工 ####
最近几年被谈的最多的是“前后端分离”，大家有一个共识：前端去处理偏展示的部分，后端侧重于储存和服务相关的逻辑，两者通过某种基于接口描述的约定来协作。  
  
所以现在大部分把分界点定在HTTP请求这个位置，两侧的代码执行过程中分别位于浏览器和服务器。  
  
长远而言，如果我们拥有描述业务的能力，则研发过程的细节都是可被抽象，可被在底层升级。另一方面，开发模式也需要考虑成本。  
  
如果按照正常的业务软件的研发流程，是这样的：
* 产品需求
* 原型
* 交互和视觉设计
* 后端和数据库
* 前端
* 测试  
  
#### 设计体系 ####
谈及企业软件领域的前端，就绕不开设计体系。那企业软件领域好的设计风格到底应该是怎样的？  
企业软件领域的设计体系，应该包含以下部分：  
* 表层部分
* 布局相关的约束（响应式，在各端上的体现）
* 基础的数据输入项（各类表单组件）
* 布局容器和导航
* 多维度的数据展现
* 各类图表
* 隐含的约束
* 对于可访问性的指导，包括快捷键等
* 操作记录的维持（表单的草稿，列表筛选项的缓存，自定义表头的缓存）
* 统一的信息流
* 默认的可访问性
* ...  
  
业务系统设计上的难点在于：  
* 业务设计语言的设计者，通常离业务有一些距离，一旦有内在业务逻辑很复杂的系统，则需要长时间深入才能得到一些体感。
* 业务系统中的共性，是很难提取的信息，需要长期深入不同的系统才能发掘。  
  
总的来说，从设计形态上看，倾向于“约束”而非“发挥”。  

## 前端架构 ##
不适应业务的架构是失败的，作为工程与架构管控者，需要时刻思考在自己所处的环境下，存在什么痛点，什么环节，人员结构如何，主次矛盾是什么。  
  
前端这个角色，受开源技术体系的影响太大了，很少人意识到：很多工程体系，库，都是需要被整合了才能使用的。其整合方式取决于整个研发体系的业务形态和人员结构。 
  
作为前端，可以尝试问问自己这些问题：  
* npm是一种适合被非专业前端直接使用的东西吗
* 每个人都需要去定制“业务组件”吗
* 业务开发人员一定要构建前端项目吗
* 在CRUD项目中，Redux这类东西是不是需要被显式感知的
* …   
  
总的来说，可定制性是一个很重要的方面，有一些可以关注的方面：  
  
#### 视图特征 ####
企业软件视图层面有几个基本特点：  
* 交互模式固定，可穷举
* 对低成本的快速开发机制有较强需求
* 交付模式导致业务差异化的配置需求多
  
#### 基础组件库 ####
一般来说，组件库是大家都会注意到的技术依赖项：  
* 自己有能力实现整套组件库
* 能在开源组件库的方案基础上做自己的定制
* 能整合不同的开源组件库  
  
重要的是对业务场景的覆盖程度。  
  
#### 业务组件 ####
视图其实是：Model-ViewModel-View的最外延，每一层的灵活程度慢慢增加，自身其实就可以视为一个配置文件了，在配置文件抽组件，很可能是性价比最低的事情。  
  
前端需要把视野往全局去放，才能找到更合适的权衡。  
  
#### 工程设施 ####
主流的前端构建体系，不一定适用于企业软件研发这么一个受限的领域。  
  
#### 依赖管控 ####
最大的原则是: 开源技术栈应该经过怎样的定制和管控，给什么样的业务开发人员提供怎样的抽象程度。
